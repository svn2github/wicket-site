<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>4.2 Configuration of Wicket applications 6.x</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/howToSource.html"><strong>2</strong><span>How to use the example code</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/whyLearn.html"><strong>3</strong><span>Why should I learn Wicket?</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/helloWorld.html"><strong>4</strong><span>Wicket says &ldquo;Hello world!&rdquo;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/layout.html"><strong>5</strong><span>Wicket as page layout manager</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/keepControl.html"><strong>6</strong><span>Keeping control over HTML</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/componentLifecycle.html"><strong>7</strong><span>Components lifecycle</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/versioningCaching.html"><strong>8</strong><span>Page versioning and caching</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/requestProcessing.html"><strong>9</strong><span>Under the hood of the request processing</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/urls.html"><strong>10</strong><span>Wicket Links and URL generation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/modelsforms.html"><strong>11</strong><span>Wicket models and forms</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/forms2.html"><strong>12</strong><span>Wicket forms in detail</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/repeaters.html"><strong>13</strong><span>Displaying multiple items with repeaters</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/i18n.html"><strong>14</strong><span>Internationalization with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/resources.html"><strong>15</strong><span>Resource management with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/jsintegration.html"><strong>16</strong><span>An example of integration with JavaScript</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/advanced.html"><strong>17</strong><span>Wicket advanced topics</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/ajax.html"><strong>18</strong><span>Working with AJAX</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/jee.html"><strong>19</strong><span>Integration with enterprise containers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/nativewebsockets.html"><strong>20</strong><span>Native WebSockets</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/security.html"><strong>21</strong><span>Security with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/testing.html"><strong>22</strong><span>Test Driven Development with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/testingspring.html"><strong>23</strong><span>Test Driven Development with Wicket and Spring</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/bestpractices.html"><strong>24</strong><span>Wicket Best Practices</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/internals.html"><strong>25</strong><span>Wicket Internals</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/maven.html"><strong>26</strong><span>Working with Maven (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/wicketstuff.html"><strong>27</strong><span>Project WicketStuff (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/redirects.html"><strong>28</strong><span>Lost In Redirection With Apache Wicket (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/contributing.html"><strong>29</strong><span>Contributing to this guide (Appendix)</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="/" target="_blank"><img height="80px" src="http://wicket.apache.org/guide/img/apache-wicket.png"/></a></span>
        
        
        <span id="sponsor"><a href="http://www.apache.org/" target="_blank"><img height="60px" src="http://wicket.apache.org/guide/img/asf_logo.gif"/></a></span>
        
    </div>
    <p>Free Online Guide for Apache Wicket framework</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/whyLearn.html">&lt;&lt; <strong>3</strong><span>Why should I learn Wicket?</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/layout.html"><strong>5</strong><span>Wicket as page layout manager</span> >></a></div>
                


                <div class="project">
                    <h1>4.2 Configuration of Wicket applications - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Andrea Del Bene, Martin Grigorov, Carsten Hufe, Christian Kroemer, Daniel Bartl, Paul Bor»ô, Tobias Soloschenko</p>

                    <p><strong>Version:</strong> 6.x</p>

                    
                </div>

                

                

<h2 id="helloWorld_2">4.2 Configuration of Wicket applications</h2>
In this chapter we will see a classic Hello World! example implemented using a Wicket page with a built-in component called <code>Label</code> (the code is from project the HelloWorldExample). Since this is the first example of the guide, before looking at Java code we will go through the common artifacts needed to build a Wicket application from scratch.<p class="paragraph"/><blockquote class="note">
All the example projects presented in this document have been generated using Maven and the utility page at <a href="http://wicket.apache.org/start/quickstart.html" target="blank">http://wicket.apache.org/start/quickstart.html</a> . <strong class="bold">Appendix A</strong> contains the instructions needed to use these projects and build a quickstart application using Apache Maven. All the artifacts used in the next example (files web.xml, HomePage.class and HomePage.html) are automatically generated by Maven.
</blockquote><p class="paragraph"/><h3>Wicket application structure</h3><p class="paragraph"/>A Wicket application is a standard Java EE web application, hence it is deployed through a web.xml file placed inside folder WEB-INF:<p class="paragraph"/><img border="0" class="center" src="../img/webinf.png"></img><p class="paragraph"/> <em class="italic">Illustration : The standard directory structure of a Wicket application</em> <p class="paragraph"/>The content of web.xml declares a servlet filter (class <code>org.apache.wicket.Protocol.http.WicketFilter</code>) which dispatches web requests to our Wicket application:<p class="paragraph"/><div class="code"><pre><span class="xml&#45;tag">&#60;?xml version=<span class="xml&#45;quote">"1.0"</span> encoding=<span class="xml&#45;quote">"UTF&#45;8"</span>?&#62;</span>
<span class="xml&#45;tag">&#60;web&#45;app&#62;</span>
    <span class="xml&#45;tag">&#60;display&#45;name&#62;</span>Wicket Test<span class="xml&#45;tag">&#60;/display&#45;name&#62;</span>
    <span class="xml&#45;tag">&#60;filter&#62;</span>
        <span class="xml&#45;tag">&#60;filter&#45;name&#62;</span>TestApplication<span class="xml&#45;tag">&#60;/filter&#45;name&#62;</span>
        <span class="xml&#45;tag">&#60;filter&#45;class&#62;</span>org.apache.wicket.protocol.http.WicketFilter<span class="xml&#45;tag">&#60;/filter&#45;class&#62;</span>
        <span class="xml&#45;tag">&#60;init&#45;param&#62;</span>
          <span class="xml&#45;tag">&#60;param&#45;name&#62;</span>applicationClassName<span class="xml&#45;tag">&#60;/param&#45;name&#62;</span>
          <span class="xml&#45;tag">&#60;param&#45;value&#62;</span>org.wicketTutorial.WicketApplication<span class="xml&#45;tag">&#60;/param&#45;value&#62;</span>
        <span class="xml&#45;tag">&#60;/init&#45;param&#62;</span>
    <span class="xml&#45;tag">&#60;/filter&#62;</span>
    <span class="xml&#45;tag">&#60;filter&#45;mapping&#62;</span>
        <span class="xml&#45;tag">&#60;filter&#45;name&#62;</span>TestApplication<span class="xml&#45;tag">&#60;/filter&#45;name&#62;</span>
        <span class="xml&#45;tag">&#60;url&#45;pattern&#62;</span>/&#42;<span class="xml&#45;tag">&#60;/url&#45;pattern&#62;</span>
    <span class="xml&#45;tag">&#60;/filter&#45;mapping&#62;</span>
<span class="xml&#45;tag">&#60;/web&#45;app&#62;</span></pre></div><p class="paragraph"/>Since this is a standard servlet filter we must map it to a specific set of URLs through the <code>&#60;filter-mapping&#62;</code> tag). In the xml above we have mapped every URL to our Wicket filter.<p class="paragraph"/>If we are using Servlet 3 or a later version, we can of course use a class in place of web.xml to configure our application. The following example uses annotation @WebFilter.<p class="paragraph"/><div class="code"><pre>@WebFilter(value = <span class="java&#45;quote">"/&#42;"</span>, initParams = &#123; @WebInitParam(name = <span class="java&#45;quote">"applicationClassName"</span>, value = <span class="java&#45;quote">"com.mycompany.WicketApplication"</span>), 
				@WebInitParam(name=<span class="java&#45;quote">"filterMappingUrlPattern"</span>, value=<span class="java&#45;quote">"/&#42;"</span>) &#125;)
<span class="java&#45;keyword">public</span> class ProjectFilter <span class="java&#45;keyword">extends</span> WicketFilter &#123;<p class="paragraph"/>&#125;</pre></div><p class="paragraph"/><p class="paragraph"/><blockquote class="note">
Wicket can be started in two modes named respectively DEVELOPMENT and DEPLOYMENT. The first mode activates some extra features which help application development, like resources monitoring and reloading, full stack trace rendering of exceptions, an AJAX debugger window, etc&#8230; The DEPLOYMENT mode turns off all these features optimizing performances and resource consumption. In our example projects we will use the default mode which is DEVELOPMENT. <a href="../guide/single.html#maven_1" class="guide">Chapter 24.1</a> contains the chapter ‚ÄúSwitching Wicket to DEPLOYMENT mode‚Äú where we can find further details about these two modes as well as the possible ways we have to set the desired one. In any case, DO NOT deploy your applications in a production environment without switching to DEPLOYMENT mode!
</blockquote><p class="paragraph"/><h3>The application class</h3><p class="paragraph"/>If we look back at web.xml we can see that we have provided the Wicket filter with a parameter called  <code>applicationClassName</code>. This value must be the fully qualified class name of a subclass of <code>org.apache.wicket.Application</code>. This subclass represents our web application built upon Wicket and it's responsible for configuring it when the server is starting up. Most of the times our custom application class won't inherit directly from class <code>Application</code>, but rather from class <code>org.apache.wicket.protocol.http.WebApplication</code> which provides a closer integration with servlet infrastructure. 
Class <code>Application</code> comes with a set of configuration methods that we can override to customize our application's settings. One of these methods is <code>getHomePage()</code> that must be overridden as it is declared abstract:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">public</span> <span class="java&#45;keyword">abstract</span> <span class="java&#45;object">Class</span>&#60;? <span class="java&#45;keyword">extends</span> Page&#62; getHomePage()</pre></div><p class="paragraph"/>As you may guess from its name, this method specifies which page to use as homepage for our application. 
Another important method is <code>init()</code>:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">protected</span> void init()</pre></div><p class="paragraph"/>This method is called when our application is loaded by the web server (Tomcat, Jetty, etc...) and is the ideal place to put our configuration code. The <code>Application</code> class exposes its settings grouping them into interfaces (you can find them in package <code>org.apache.wicket.settings</code>). We can access these interfaces through getter methods that will be gradually introduced in the next chapters when we will cover the related settings.<p class="paragraph"/>The current application's instance can be retrieved at any time calling static method <code>Application.get()</code> in our code. We will give more details about this method in <a href="../guide/single.html#requestProcessing_3" class="guide">chapter 9.3</a>. The content of the application class from project HelloWorldExample is the following:<p class="paragraph"/><div class="code"><pre><span class="java&#45;keyword">public</span> class WicketApplication <span class="java&#45;keyword">extends</span> WebApplication
&#123;    	
	@Override
	<span class="java&#45;keyword">public</span> <span class="java&#45;object">Class</span>&#60;? <span class="java&#45;keyword">extends</span> WebPage&#62; getHomePage()
	&#123;
		<span class="java&#45;keyword">return</span> HomePage.class;
	&#125;<p class="paragraph"/>	@Override
	<span class="java&#45;keyword">public</span> void init()
	&#123;
		<span class="java&#45;keyword">super</span>.init();
		// add your configuration here
	&#125;
&#125;</pre></div><p class="paragraph"/>Since this is a very basic example of a Wicket application, we don't need to specify anything inside the <code>init</code> method. The home page of the application is the <code>HomePage</code> class. In the next paragraph we will see how this page is implemented and which conventions we have to follow to create a page in Wicket.<p class="paragraph"/><blockquote class="note">
Declaring a <code>WicketFilter</code> inside web.xml descriptor is not the only way we have to kickstart our application.
If we prefer to use a servlet instead of a filter, we can use class <code>org.apache.wicket.protocol.http.WicketServlet</code>. See the JavaDoc for further details.
</blockquote>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/whyLearn.html">&lt;&lt; <strong>3</strong><span>Why should I learn Wicket?</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/layout.html"><strong>5</strong><span>Wicket as page layout manager</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
Copyright &copy; 2013-2015 ‚Äî <a href="http://www.apache.org/" target="_blank">The Apache Software Foundation</a> 
                      ‚Äî <b style="color:#E8590A !important;">(Generated on: 2015-04-08)</b>

    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
