<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>13.4 Pageable repeaters 6.x</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/introduction.html"><strong>1</strong><span>Introduction</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/howToSource.html"><strong>2</strong><span>How to use the example code</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/whyLearn.html"><strong>3</strong><span>Why should I learn Wicket?</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/helloWorld.html"><strong>4</strong><span>Wicket says &ldquo;Hello world!&rdquo;</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/layout.html"><strong>5</strong><span>Wicket as page layout manager</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/keepControl.html"><strong>6</strong><span>Keeping control over HTML</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/componentLifecycle.html"><strong>7</strong><span>Components lifecycle</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/versioningCaching.html"><strong>8</strong><span>Page versioning and caching</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter8.html"><strong>9</strong><span>Under the hood of the request processing</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter9.html"><strong>10</strong><span>Wicket Links and URL generation</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter10.html"><strong>11</strong><span>Wicket models and forms</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter11.html"><strong>12</strong><span>Wicket forms in detail</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter12.html"><strong>13</strong><span>Displaying multiple items with repeaters</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter13.html"><strong>14</strong><span>Internationalization with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter14.html"><strong>15</strong><span>Resource management with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter15.html"><strong>16</strong><span>An example of integration with JavaScript</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter16.html"><strong>17</strong><span>Wicket advanced topics</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter17.html"><strong>18</strong><span>Working with AJAX</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter18.html"><strong>19</strong><span>Integration with enterprise containers</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter19.html"><strong>20</strong><span>Security with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter20.html"><strong>21</strong><span>Test Driven Development with Wicket</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter21.html"><strong>22</strong><span>Test Driven Development with Wicket and Spring</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter22.html"><strong>23</strong><span>Wicket Best Practices</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter23.html"><strong>24</strong><span>Working with Maven (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter24.html"><strong>25</strong><span>Project WicketStuff (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/chapter25.html"><strong>26</strong><span>Lost In Redirection With Apache Wicket (Appendix)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/contributing.html"><strong>27</strong><span>Contributing to this guide (Appendix)</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        <span id="logo"><a href="/" target="_blank"><img height="80px" src="http://wicket.apache.org/guide/img/apache-wicket.png"/></a></span>
        
        
        <span id="sponsor"><a href="http://www.apache.org/" target="_blank"><img height="60px" src="http://wicket.apache.org/guide/img/asf_logo.gif"/></a></span>
        
    </div>
    <p>Free Online Guide for Apache Wicket framework</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/chapter11.html">&lt;&lt; <strong>12</strong><span>Wicket forms in detail</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/chapter13.html"><strong>14</strong><span>Internationalization with Wicket</span> >></a></div>
                


                <div class="project">
                    <h1>13.4 Pageable repeaters - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Andrea Del Bene, Carsten Hufe, Christian Kroemer, Daniel Bartl, Paul Borș</p>

                    <p><strong>Version:</strong> 6.x</p>

                    
                </div>

                

                

<h2 id="chapter12_4">13.4 Pageable repeaters</h2>
<p class="paragraph"/>Wicket offers a number of components that should be used when we have to display a big number of  items (for example the results of a select SQL query).<p class="paragraph"/>All these components implements interface <code>org.apache.wicket.markup.html.navigation.paging.IPageable</code> and use interface <code>IDataProvider</code> (placed in package <code>org.apache.wicket.markup.repeater.data</code>) as data source. This interface is designed to support data paging. We will see an example of data paging later in paragraph 11.4.2.<p class="paragraph"/>The methods defined by IDataProvider are the following:
<ul class="star">
<li>iterator(long first, long count): returns an iterator over a subset of the entire dataset. The subset starts from the item at position first and includes all the next count items (i.e. it's the closed interval first,first+count).</li>
<li>size(): gets the size of the entire dataset.</li>
<li>model(T object): this method is used to wrap an item returned by the iterator with a model. This can be necessary if, for example, we need to wrap items with a detachable model to prevent them from being serialized.</li>
</ul><p class="paragraph"/>Wicket already provides implementations of IDataProvider to work with a List as data source (ListDataProvider) and to support data sorting (SortableDataProvider).<p class="paragraph"/><h3>Component DataView</h3><p class="paragraph"/>Class <code>org.apache.wicket.markup.repeater.data.DataView</code> is the simplest pageable repeater shipped with Wicket. DataView comes with abstract method populateItem(Item) that must be implemented to configure children components. In the following example we use a DataView to display a list of Person objects in a HTML table:<p class="paragraph"/><strong class="bold">HTML:</strong>
<div class="code"><pre>&#60;table&#62;
	&#60;tr&#62;
	   &#60;th&#62;Name&#60;/th&#62;&#60;th&#62;Surename&#60;/th&#62;&#60;th&#62;Address&#60;/th&#62;&#60;th&#62;Email&#60;/th&#62;
	&#60;/tr&#62;
	&#60;tr wicket:id=<span class="java&#45;quote">"rows"</span>&#62;
	   &#60;td wicket:id=<span class="java&#45;quote">"dataRow"</span>&#62;&#60;/td&#62;
	&#60;/tr&#62;
&#60;/table&#62;</pre></div><p class="paragraph"/><strong class="bold">Java Code:</strong>
<div class="code"><pre>//method loadPersons is defined elsewhere
List&#60;Person&#62; persons = loadPersons();
ListDataProvider&#60;Person&#62; listDataProvider = <span class="java&#45;keyword">new</span> ListDataProvider&#60;Person&#62;(persons);<p class="paragraph"/>DataView&#60;Person&#62; dataView = <span class="java&#45;keyword">new</span> DataView&#60;Person&#62;(<span class="java&#45;quote">"row"</span>, listDataProvider) &#123;<p class="paragraph"/>  @Override
  <span class="java&#45;keyword">protected</span> void populateItem(Item&#60;Person&#62; item) &#123;
    Person person = item.getModelObject();
    RepeatingView repeatingView = <span class="java&#45;keyword">new</span> RepeatingView(<span class="java&#45;quote">"dataRow"</span>);<p class="paragraph"/>    repeatingView.add(<span class="java&#45;keyword">new</span> Label(repeatingView.newChildId(), person.getName()));
    repeatingView.add(<span class="java&#45;keyword">new</span> Label(repeatingView.newChildId(), person.getSurename()));
    repeatingView.add(<span class="java&#45;keyword">new</span> Label(repeatingView.newChildId(), person.getAddress()));    
    repeatingView.add(<span class="java&#45;keyword">new</span> Label(repeatingView.newChildId(), person.getEmail()));
    item.add(repeatingView); 
  &#125;
&#125;;
add(dataView);</pre></div><p class="paragraph"/>Please note that in the code above we have used also a RepeatingView component to populate the rows of the table.<p class="paragraph"/>In the next paragraph we will see a similar example that adds support for data paging.<p class="paragraph"/><h3>Data paging</h3><p class="paragraph"/>To enable data paging on a pageable repeaters, we must first set the number of items to display per page with method setItemsPerPage(long items). Then, we must attach the repeater to panel PagingNavigator (placed in package <code>org.apache.wicket.markup.html.navigation.paging</code>) which is responsible for rendering a navigation bar containing the links illustrated in the following picture:<p class="paragraph"/><img border="0" class="center" src="../img/paging-navigator.png"></img><p class="paragraph"/>Project PageDataViewExample mixes a DataView component with a PagingNavigator to display the list of all countries of the world sorted by alphabetical order1. Here is the initialization code of the project home page:<p class="paragraph"/><strong class="bold">HTML:</strong>
<div class="code"><pre>&#60;table&#62;
  &#60;tr&#62;
    &#60;th&#62;ISO 3166&#45;1&#60;/th&#62;&#60;th&#62;Name&#60;/th&#62;&#60;th&#62;<span class="java&#45;object">Long</span> name&#60;/th&#62;&#60;th&#62;Capital&#60;/th&#62;&#60;th&#62;Population&#60;/th&#62;
  &#60;/tr&#62;
  &#60;tr wicket:id=<span class="java&#45;quote">"rows"</span>&#62;
    &#60;td wicket:id=<span class="java&#45;quote">"dataRow"</span>&#62;&#60;/td&#62;
  &#60;/tr&#62;
&#60;/table&#62;</pre></div><p class="paragraph"/><strong class="bold">Java Code:</strong>
<div class="code"><pre><span class="java&#45;keyword">public</span> HomePage(<span class="java&#45;keyword">final</span> PageParameters parameters) &#123;
  <span class="java&#45;keyword">super</span>(parameters);
  //method loadCountriesFromCsv is defined elsewhere in the class.
  //It reads countries data from a csv file and returns each row as an array of Strings.
  List&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62; countries = loadCountriesFromCsv();
  ListDataProvider&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62; listDataProvider = <span class="java&#45;keyword">new</span> ListDataProvider&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62;(countries);<p class="paragraph"/>  DataView&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62; dataView = <span class="java&#45;keyword">new</span> DataView&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62;(<span class="java&#45;quote">"rows"</span>, listDataProvider) &#123;
    @Override
    <span class="java&#45;keyword">protected</span> void populateItem(Item&#60;<span class="java&#45;object">String</span>&#91;&#93;&#62; item) &#123;
      <span class="java&#45;object">String</span>&#91;&#93; countriesArr = item.getModelObject();
      RepeatingView repeatingView = <span class="java&#45;keyword">new</span> RepeatingView(<span class="java&#45;quote">"dataRow"</span>);<p class="paragraph"/>      <span class="java&#45;keyword">for</span> (<span class="java&#45;object">int</span> i = 0; i &#60; countriesArr.length; i++)&#123;
         repeatingView.add(<span class="java&#45;keyword">new</span> Label(repeatingView.newChildId(), countriesArr&#91;i&#93;));
      &#125;
      item.add(repeatingView);
    &#125;
  &#125;;<p class="paragraph"/>  dataView.setItemsPerPage(15);<p class="paragraph"/>  add(dataView);
  add(<span class="java&#45;keyword">new</span> PagingNavigator(<span class="java&#45;quote">"pagingNavigator"</span>, dataView));
&#125;</pre></div><p class="paragraph"/>The data of a single country (ISO code, name, long name, capital and population) are handled with an array of strings. The usage of PagingNavigator it's quite straightforward as we need to simply pass the pageable repeater to its constructor.<p class="paragraph"/>To explore the other pageable repeaters shipped with Wicket you can visit the page at <a href="http://www.wicket-library.com/wicket-examples/repeater/" target="blank">http://www.wicket-library.com/wicket-examples/repeater/</a> where you can find live examples of these components.<p class="paragraph"/><blockquote class="note">
Wicket provides also component PageableListView which is a sublcass of ListView that implements interface IPageable, hence it can be considered a pageable repeaters even if it doesn't use interface IDataProvider as data source.
</blockquote>


                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/chapter11.html">&lt;&lt; <strong>12</strong><span>Wicket forms in detail</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/chapter13.html"><strong>14</strong><span>Internationalization with Wicket</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
Copyright &copy; 2013-2014 — <a href="http://www.apache.org/" target="_blank">The Apache Software Foundation</a> 
                      — <b style="color:#E8590A !important;">(Generated on: 2014-01-27)</b>

    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
