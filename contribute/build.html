<!DOCTYPE html>
<html>
<head>
    <title>Apache Wicket - Build from source</title>

	<link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen" />

    <!--[if lt ie 7]>
	<link rel="stylesheet" href="/css/ie.css" type="text/css" media="screen" />
    <![endif]-->
    <link rel="shortcut icon" href="/favicon.ico" type="image/vnd.microsoft.icon" />
	<link rel="alternate" type="application/atom+xml" href="/atom.xml" />
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
</head>
<body>
<div id="container">
    <div id="content">
        <div id="header"><a href="/"><h1 id="logo"><span>Apache Wicket</span></h1></a></div>
		<div id="navigation">
	<h5><a name="Navigation-Wicket"></a>Meet Wicket</h5>
	<ul>
		<li>
			<a href="/" title="Index">Home</a>
		</li>
		<li>
			<a href="/meet/introduction.html" title="Introduction">Introduction</a>
		</li>
		<li>
			<a href="/meet/features.html" title="Features">Features</a>
		</li>
		<li>
			<a href="/meet/buzz.html" title="Buzz">Buzz</a>
		</li>
		<li>
			<a href="/meet/vision.html" title="Vision">Vision</a>
		</li>
		<li>
			<a href="/meet/blogs.html" title="Blogs">Blogs</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-GettingStarted" id="Navigation-GettingStarted"></a>Get Started
	</h5>
	<ul>
		<li>
			<a href="/start/download.html" title="Download Wicket">Download Wicket</a>
		</li>
		<li>
			<a href="/start/quickstart.html" title="Getting started via a Maven Archetype">Quickstart</a>
		</li>
		<li>
			<a href="http://www.jweekend.com/dev/LegUp" rel="nofollow">More archetypes</a>
		</li>
		<li>
			<a href="/help" title="Get help">Get help</a>
		</li>
		<li>
			<a href="/help/email.html" title="Wicket Mailing Lists">Mailing Lists</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Documentation" id="Navigation-Documentation"></a>Learn
	</h5>
	<ul>
		<li>
			<a href="/learn/examples" title="Examples">Examples</a>
		</li>
		<li>
			<a href="http://wicketstuff.org/wicket14/compref/">Components</a>
		</li>
		<li>
			<a href="/learn/projects/" title="Projects extending basic Wicket">Projects</a>
		</li>
		<li>
			<a href="http://cwiki.apache.org/WICKET">Wiki</a>
		</li>
		<li>
			<a href="http://cwiki.apache.org/WICKET/reference-library.html">Reference guide</a>
		</li>
		<li>
			<a href="/learn/books" title="Books">Books</a>
		</li>
		<li>
			<a href="/learn/ides.html" title="IDEs">IDE plugins</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Releases" id="Navigation-Releases"></a>Releases
	</h5>
	<ul>
		<li>
			<a href="http://www.apache.org/dyn/closer.cgi/wicket/1.5.5">Wicket 1.5</a>
			(<a href="http://wicket.apache.org/apidocs/1.5" title="JavaDocs of the latest stable release - 1.5.x">docs</a>)
		</li>
		<li>
			<a href="http://www.apache.org/dyn/closer.cgi/wicket/1.4.19">Wicket 1.4</a>
			(<a href="http://ci.apache.org/projects/wicket/apidocs/1.4.x" title="JavaDocs of Apache Wicket 1.4.x">docs</a>)
		</li>
		<li>
			<a href="http://www.apache.org/dyn/closer.cgi/wicket/1.3.7">Wicket 1.3</a>
			(<a href="http://ci.apache.org/projects/wicket/apidocs/1.3.x" title="JavaDocs of Apache Wicket 1.3.x">docs</a>)
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.2" class="external-link" rel="nofollow">Wicket 1.2</a>
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.1" class="external-link" rel="nofollow">Wicket 1.1</a>
		</li>
		<li>
			<a href="http://wicket.sf.net/wicket-1.0" class="external-link" rel="nofollow">Wicket 1.0</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Developers" id="Navigation-Developers"></a>Contribute
	</h5>
	<ul>
		<li>
			<a href="/contribute/write.html" title="Writing documentation">Writing docs</a>
		</li>
		<li>
			<a href="/contribute/build.html" title="Building from SVN">Build Wicket</a>
		</li>
		<li>
			<a href="/contribute/patch.html" title="Provide a patch">Provide a patch</a>
		</li>
		<li>
			<a href="/contribute/release.html" title="Release Wicket">Release Wicket</a>
		</li>
		<li>
			<a href="http://fisheye6.atlassian.com/browse/wicket" title="SVN Overview" class="external-link" rel="nofollow">Fisheye</a>
		</li>
	</ul>
	<h5>
		<a name="Navigation-Apache" id="Navigation-Apache"></a>Apache
	</h5>
	<ul>
		<li>
			<a href="http://www.apache.org/" class="external-link" rel="nofollow">Apache</a>
		</li>
		<li>
			<a href="http://www.apache.org/licenses/" class="external-link" rel="nofollow">License</a>
		</li>
		<li>
			<a href="http://www.apache.org/foundation/sponsorship.html" class="external-link" rel="nofollow">Sponsorship</a>
		</li>
		<li>
			<a href="http://apache.org/foundation/thanks.html" class="external-link" rel="nofollow">Thanks</a>
		</li>
	</ul>
</div>

		<div id="contentbody">
			<h1>Build from source</h1>
			<p>The Wicket projects are built using a multi-module build as proposed by the Maven project. We use Maven to build our projects and distributions. To be able to build Wicket directly from subversion, you will need an understanding of Maven.</p>

<p>This document contains the following sections.</p>

<ol>
<li>Getting your Wicket version</li>

<li>Building Wicket</li>

<li>Coping with test failures</li>

<li>Using your own built artifacts</li>
</ol>

<p>For more information on the project structure, please read the &#8216;Better Builds With Maven&#8217; book which has a detailed description on how to structure a maintainable, enterprise ready build. The book is available for free from the Mergere website.</p>

<h2 id='getting_your_wicket_version'>Getting your Wicket version</h2>

<p>Clone the master branch from Apache Git Wicket repository</p>
<div class='highlight'><pre><code class='console'><span class='gp'>$</span> git clone http://git-wip-us.apache.org/repos/asf/wicket.git
</code></pre>
</div>
<p>This will give you a directory structure like the following directory tree:</p>
<div class='highlight'><pre><code class='console'><span class='go'>wicket</span>
<span class='go'>wicket/wicket-core</span>
<span class='go'>wicket/wicket-extensions</span>
<span class='go'>wicket/wicket-spring</span>
<span class='go'>wicket/wicket-auth-roles</span>
<span class='go'>wicket/wicket-examples</span>
<span class='go'>wicket/wicket-spring-annot</span>
<span class='go'>...</span>
</code></pre>
</div>
<p>To check out a different branch use:</p>
<div class='highlight'><pre><code class='console'><span class='gp'>$</span> <span class='nb'>cd </span>wicket
<span class='gp'>$</span> git checkout -b release/wicket-x.y.z release/wicket-x.y.z
<span class='gp'>#</span> verify the branch with:
<span class='gp'>$</span> git branch
</code></pre>
</div>
<p>In this document we focus at the maven project descriptor located in the top level directory, which enforces default settings for all Wicket projects such as plug-in settings, versioning of the Wicket projects, managing the various dependencies and more.</p>

<p>The artifacts in this project are there only for having a consistent build. This top-level project doesn&#8217;t have sources for itself.</p>

<h2 id='building_wicket'>Building Wicket</h2>

<p>The current development version of Wicket requires at least jdk 6.</p>

<p>If you want to ensure that your Wicket version is built using JDK-6 and fully compatible with that Java version, you will need to build it with a Java 6 compiler and runtime library.</p>

<p>If you haven&#8217;t done so already change into the Wicket root directory:</p>
<div class='highlight'><pre><code class='console'><span class='go'>cd wicket</span>
</code></pre>
</div>
<p>Now building all of Wicket is as simple as issuing the following command:</p>
<div class='highlight'><pre><code class='console'><span class='go'>mvn install</span>
</code></pre>
</div>
<p>This will compile, test, package and install all Wicket projects. Installation means putting the jar files into your local Maven repository, including the source, but without the javadoc jars (this is a Wicket specific configuration, because build javadoc takes a long time).</p>

<p>The following commands are useful: <table>
<tr><th>Commandline</th><th>Description</th></tr>
<tr><td>`mvn clean`</td><td>cleans up build artifacts</td></tr>
<tr><td>`mvn compile`</td><td>compiles the projects</td></tr>
<tr><td>`mvn package`</td><td>creates the jar files in the target/ subdirectories</td></tr>
<tr><td>`mvn install`</td><td>installs the jar files in your local repository</td></tr>
<tr><td>`mvn -Prelease package`</td><td>generates the javadoc/source jars as well</td></tr>
</table></p>

<p>You can just run the install target, as Maven will build the previous stages automatically.</p>

<h3 id='coping_with_test_failures'>Coping with test failures</h3>

<p>As this is our main development you might/will encounter failing unit tests. These can be skipped using:</p>
<div class='highlight'><pre><code class='console'><span class='go'>mvn -Dmaven.test.skip=true install</span>
</code></pre>
</div>
<p>Of course, all bets are off then and your mileage may vary if you use such a built jar.</p>

<h3 id='using_your_own_built_artifacts'>Using your own built artifacts</h3>

<p>Now you have built your own fresh Wicket jar you must be anxious to use it. This is now as simple as adding a snapshot dependency on the specific Wicket version. So in your pom.xml you can use:</p>
<div class='highlight'><pre><code class='xml'><span class='nt'>&lt;dependency&gt;</span>
    <span class='nt'>&lt;groupId&gt;</span>org.apache.wicket<span class='nt'>&lt;/groupId&gt;</span>
    <span class='nt'>&lt;artifactId&gt;</span>wicket-core<span class='nt'>&lt;/artifactId&gt;</span>
    <span class='nt'>&lt;version&gt;</span>6.0-SNAPSHOT<span class='nt'>&lt;/version&gt;</span>
    <span class='nt'>&lt;scope&gt;</span>compile<span class='nt'>&lt;/scope&gt;</span>
<span class='nt'>&lt;/dependency&gt;</span>
</code></pre>
</div>
<p>And adding this to your Eclipse, NetBeans or IntelliJ IDEA project classpath is then as simple as:</p>
<div class='highlight'><pre><code class='console'><span class='go'>mvn eclipse:eclipse</span>
</code></pre>
</div>
<p>or opening the project using Netbeans or IDEAs Maven integration.</p>

<p>Maven will then add all the necessary JAR files to the project&#8217;s classpath.</p>

<p>One thing you need to make sure is that you have set the <code>M2_REPO</code> classpath variable in Eclipse (or a similar construct in Netbeans), and point it to your local repository, typically found in <code>C:\Documents and Settings\username\.m2\repo</code> or (for unix buffs) <code>~/.m2/repo</code></p>

<p>You can add this setting using maven:</p>
<div class='highlight'><pre><code class='console'><span class='go'>mvn -Declipse.workspace=&lt;path-to-eclipse-workspace&gt; eclipse:add-maven-repo</span>
</code></pre>
</div>
		</div>
        <div id="clearer"></div>
		<div id="footer"><span>
Copyright &copy; 2012 &mdash; The Apache Software Foundation. Apache Wicket,
Wicket, Apache, the Apache feather logo, and the Apache Wicket project logo
are trademarks of The Apache Software Foundation. All other marks mentioned
may be trademarks or registered trademarks of their respective owners.
</span></div>

    </div>
</div>
</body>
</html>
